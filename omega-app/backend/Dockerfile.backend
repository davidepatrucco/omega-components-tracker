# Minimal Node.js backend Dockerfile
FROM node:20-alpine

# Accept build argument for environment file
ARG ENV_FILE=.env

WORKDIR /app
COPY package*.json ./
RUN npm install --production

# Copy application files
COPY . .

# Copy the correct environment file as .env
COPY ${ENV_FILE} .env

EXPOSE 4000
CMD ["npm", "start"]
